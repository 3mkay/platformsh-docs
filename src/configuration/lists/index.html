<!doctype html>
<html>
<head>
<meta charset="utf-8">
</head>

<body>
<script src="jquery.json-list.js"></script>
<script>
$('.example').jsonList({
  url: 'example.json',
  type: 'groupedItems',
  groups: 'locationGroups',
  items: 'locations',
  // onListItem: called for each list item created from the JSON
  onListItem: function(event, listItem, data, isGroup) {
    if (!isGroup) {
      // set the id into a data value so that Bonsai createInputs
      // can set the checkbox value
      listItem.attr('data-value', data.id);
    }
  },
  // success: called after the list is created
  onSuccess: function(event, jsonList) {
    // turn the list into a tree
    $(this.el).find('> ol').bonsai({
      checkboxes: true,
      createInputs: 'checkbox',
      handleDuplicateCheckboxes: true,
      expandAll: true
    });
  }
});
</script>
</body>
</html>
